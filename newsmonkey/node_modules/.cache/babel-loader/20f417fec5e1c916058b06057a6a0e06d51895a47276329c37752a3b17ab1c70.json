{"ast":null,"code":"var _jsxFileName = \"/home/anupamjhabbl/react/src/components/News.js\";\nimport React, { Component } from 'react';\nimport NewsItem from './NewsItem';\nimport Spinner from './Spinner';\nimport PropTypes from 'prop-types';\nimport '../App.css';\n// import InfiniteScroll from 'react-infinite-scroll-component'\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class News extends Component {\n  constructor() {\n    super();\n    this.nextPage = async () => {\n      let {\n        country,\n        category\n      } = this.props;\n      this.setState({\n        loading: true\n      });\n      let link = `https://newsapi.org/v2/top-headlines?country=${country}&category=${category}&apiKey=560f9ab186d14673947ac91c9b092e59&page=${this.state.page + 1}`;\n      let data = await fetch(link);\n      let parsedData = await data.json();\n      this.setState({\n        data: parsedData,\n        page: this.state.page + 1,\n        loading: false\n      });\n      console.log(this.state.avlPages);\n    };\n    this.previousPage = async () => {\n      let {\n        country,\n        category\n      } = this.props;\n      this.setState({\n        loading: true\n      });\n      let link = `https://newsapi.org/v2/top-headlines?country=${country}&category=${category}&apiKey=560f9ab186d14673947ac91c9b092e59&page=${this.state.page - 1}`;\n      let data = await fetch(link);\n      let parsedData = await data.json();\n      this.setState({\n        data: parsedData,\n        page: this.state.page - 1,\n        loading: false\n      });\n    };\n    this.fetchData = async () => {\n      let {\n        country,\n        category\n      } = this.props;\n      this.setState({\n        loading: true\n      });\n      let link = `https://newsapi.org/v2/top-headlines?country=${country}&category=${category}&apiKey=560f9ab186d14673947ac91c9b092e59&page=${this.state.page + 1}`;\n      let data = await fetch(link);\n      let parsedData = await data.json();\n      parsedData.artilces = parsedData.articles.concat(this.state.data.articles);\n      this.setState({\n        data: parsedData,\n        page: this.state.page + 1,\n        loading: false\n      });\n    };\n    this.state = {\n      data: {\n        articles: []\n      },\n      loading: true,\n      page: 1,\n      avlPages: 1\n    }; /*ye bhi thik hai*/\n    // this.setState({\n    //     articles : this.articles,\n    //     loading : true\n    // })\n  }\n\n  async componentDidMount() {\n    let {\n      country,\n      category\n    } = this.props;\n    let link = `https://newsapi.org/v2/top-headlines?country=${country}&category=${category}&apiKey=560f9ab186d14673947ac91c9b092e59`;\n    let data = await fetch(link);\n    let parsedData = await data.json();\n    console.log(parsedData);\n    let k = Math.floor(parsedData.totalResults / 20);\n    if (parsedData.totalResults % 20 === 0) {\n      this.setState({\n        data: parsedData,\n        loading: false,\n        avlPages: k\n      });\n    } else {\n      this.setState({\n        data: parsedData,\n        loading: false,\n        avlPages: k + 1\n      });\n    }\n  }\n  render() {\n    let {\n      color\n    } = this.props;\n    return (\n      /*#__PURE__*/\n      // this.state.loading ? <Spinner/> :\n      _jsxDEV(_Fragment, {\n        children: this.state.loading ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 43\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"News Monkey: Top Headlines\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"news\",\n            children: this.state.data.articles.map(elements => {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(NewsItem, {\n                  source: elements.source.name === null ? \"\" : elements.source.name,\n                  author: elements.author === null ? \"unknown\" : elements.author,\n                  publishedAt: elements.publishedAt,\n                  imageUrl: elements.urlToImage === null ? \"https://images.pexels.com/photos/158651/news-newsletter-newspaper-information-158651.jpeg?auto=compress&cs=tinysrgb&w=600\" : elements.urlToImage,\n                  title: elements.title.substring(0, 60) + \"...\",\n                  content: elements.content === null || elements.content === \"\" ? elements.description : elements.content,\n                  newsUrl: elements.url,\n                  color: color\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 41\n                }, this)\n              }, elements.url, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 44\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mybuttons\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              disabled: this.state.page === 1,\n              className: \"btn btn-primary\",\n              onClick: this.previousPage,\n              children: \"Previous\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              disabled: this.state.page === this.state.avlPages,\n              className: \"btn btn-primary\",\n              onClick: this.nextPage,\n              children: \"\\xA0 Next \\xA0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }, this)\n      }, void 0, false)\n    );\n  }\n}\nNews.defaultProps = {\n  country: \"in\",\n  category: \"sports\"\n};\nNews.propTypes = {\n  country: PropTypes.string,\n  category: PropTypes.string\n};","map":{"version":3,"names":["React","Component","NewsItem","Spinner","PropTypes","jsxDEV","_jsxDEV","Fragment","_Fragment","News","constructor","nextPage","country","category","props","setState","loading","link","state","page","data","fetch","parsedData","json","console","log","avlPages","previousPage","fetchData","artilces","articles","concat","componentDidMount","k","Math","floor","totalResults","render","color","children","fileName","_jsxFileName","lineNumber","columnNumber","className","map","elements","source","name","author","publishedAt","imageUrl","urlToImage","title","substring","content","description","newsUrl","url","type","disabled","onClick","defaultProps","propTypes","string"],"sources":["/home/anupamjhabbl/react/src/components/News.js"],"sourcesContent":["import React, { Component } from 'react'\nimport NewsItem from './NewsItem'\nimport Spinner from './Spinner'\nimport PropTypes from 'prop-types'\nimport '../App.css'\n// import InfiniteScroll from 'react-infinite-scroll-component'\n\nexport default class News extends Component {\n    static defaultProps = {\n        country: \"in\",\n        category: \"sports\"\n    }\n\n    static propTypes = {\n        country: PropTypes.string,\n        category: PropTypes.string\n    }\n\n    constructor() {\n        super();\n        this.state = {\n            data: {\n                articles: []\n            },\n            loading: true,\n            page: 1,\n            avlPages: 1\n        }                                     /*ye bhi thik hai*/\n        // this.setState({\n        //     articles : this.articles,\n        //     loading : true\n        // })\n    }\n\n    async componentDidMount() {\n        let { country, category } = this.props;\n        let link = `https://newsapi.org/v2/top-headlines?country=${country}&category=${category}&apiKey=560f9ab186d14673947ac91c9b092e59`;\n        let data = await fetch(link);\n        let parsedData = await data.json();\n        console.log(parsedData);\n        let k = Math.floor(parsedData.totalResults / 20);\n        if (parsedData.totalResults % 20 === 0) {\n            this.setState({\n                data: parsedData,\n                loading: false,\n                avlPages: k\n            });\n        }\n        else {\n            this.setState({\n                data: parsedData,\n                loading: false,\n                avlPages: k + 1\n            });\n        }\n\n    }\n\n    nextPage = async () => {\n        let { country, category } = this.props;\n        this.setState({ loading: true })\n        let link = `https://newsapi.org/v2/top-headlines?country=${country}&category=${category}&apiKey=560f9ab186d14673947ac91c9b092e59&page=${this.state.page + 1}`;\n        let data = await fetch(link);\n        let parsedData = await data.json();\n        this.setState({\n            data: parsedData,\n            page: this.state.page + 1,\n            loading: false\n        })\n        console.log(this.state.avlPages)\n    }\n\n    previousPage = async () => {\n        let { country, category } = this.props;\n        this.setState({ loading: true })\n        let link = `https://newsapi.org/v2/top-headlines?country=${country}&category=${category}&apiKey=560f9ab186d14673947ac91c9b092e59&page=${this.state.page - 1}`;\n        let data = await fetch(link);\n        let parsedData = await data.json();\n        this.setState({\n            data: parsedData,\n            page: this.state.page - 1,\n            loading: false\n        })\n    }\n\n    fetchData = async () => {\n        let { country, category } = this.props;\n        this.setState({ loading: true })\n        let link = `https://newsapi.org/v2/top-headlines?country=${country}&category=${category}&apiKey=560f9ab186d14673947ac91c9b092e59&page=${this.state.page + 1}`;\n        let data = await fetch(link);\n        let parsedData = await data.json();\n        parsedData.artilces = parsedData.articles.concat(this.state.data.articles);\n        this.setState({\n            data: parsedData,\n            page: this.state.page + 1,\n            loading: false\n        })\n    }\n\n    render() {\n        let { color } = this.props;\n        return (\n            // this.state.loading ? <Spinner/> :\n            <>\n                {/* <InfiniteScroll\n                    dataLength={this.state.data.articles.length} //This is important field to render the next data\n                    next={this.fetchData}\n                    hasMore={this.state.data.articles.length!==this.state.data.totalResults}\n                    loader={<Spinner/>}\n                    endMessage={\n                        <p style={{ textAlign: 'center' }}>\n                            <b>Yay! You have seen it all</b>\n                        </p>\n                    }\n                    // below props only if you need pull down functionality\n                    // refreshFunction={this.refresh}\n                    // // pullDownToRefresh\n                    // pullDownToRefreshThreshold={50}\n                    // pullDownToRefreshContent={\n                    //     <h3 style={{ textAlign: 'center' }}>&#8595; Pull down to refresh</h3>\n                    // }\n                    // releaseToRefreshContent={\n                    //     <h3 style={{ textAlign: 'center' }}>&#8593; Release to refresh</h3>\n                    // }\n                > */}\n                    {this.state.loading ? <Spinner/> :\n                    <div>\n                        <h1>News Monkey: Top Headlines</h1>\n                        <div className='news'>\n                            {\n                                this.state.data.articles.map((elements) => {\n                                    return <div key={elements.url}>\n                                        <NewsItem source={elements.source.name === null ? \"\" : elements.source.name} author={elements.author === null ? \"unknown\" : elements.author} publishedAt={elements.publishedAt} imageUrl={elements.urlToImage === null ? \"https://images.pexels.com/photos/158651/news-newsletter-newspaper-information-158651.jpeg?auto=compress&cs=tinysrgb&w=600\" : elements.urlToImage} title={elements.title.substring(0, 60) + \"...\"} content={elements.content === null || elements.content === \"\" ? elements.description : elements.content} newsUrl={elements.url} color={color} />\n                                    </div>\n                                })\n                            }\n                        </div>\n                        <div className=\"mybuttons\">\n                            <button type=\"button\" disabled={this.state.page === 1} className=\"btn btn-primary\" onClick={this.previousPage}>Previous</button>\n                            <button type=\"button\" disabled={this.state.page === this.state.avlPages} className=\"btn btn-primary\" onClick={this.nextPage}>&nbsp; Next &nbsp;</button>\n                        </div>\n\n                    </div>\n    }\n                {/* </InfiniteScroll> */}\n            </>\n        )\n    }\n}"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,QAAQ,MAAM,YAAY;AACjC,OAAOC,OAAO,MAAM,WAAW;AAC/B,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAO,YAAY;AACnB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAEA,eAAe,MAAMC,IAAI,SAASR,SAAS,CAAC;EAWxCS,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,CAAC;IAAC,KAuCZC,QAAQ,GAAG,YAAY;MACnB,IAAI;QAAEC,OAAO;QAAEC;MAAS,CAAC,GAAG,IAAI,CAACC,KAAK;MACtC,IAAI,CAACC,QAAQ,CAAC;QAAEC,OAAO,EAAE;MAAK,CAAC,CAAC;MAChC,IAAIC,IAAI,GAAI,gDAA+CL,OAAQ,aAAYC,QAAS,iDAAgD,IAAI,CAACK,KAAK,CAACC,IAAI,GAAG,CAAE,EAAC;MAC7J,IAAIC,IAAI,GAAG,MAAMC,KAAK,CAACJ,IAAI,CAAC;MAC5B,IAAIK,UAAU,GAAG,MAAMF,IAAI,CAACG,IAAI,CAAC,CAAC;MAClC,IAAI,CAACR,QAAQ,CAAC;QACVK,IAAI,EAAEE,UAAU;QAChBH,IAAI,EAAE,IAAI,CAACD,KAAK,CAACC,IAAI,GAAG,CAAC;QACzBH,OAAO,EAAE;MACb,CAAC,CAAC;MACFQ,OAAO,CAACC,GAAG,CAAC,IAAI,CAACP,KAAK,CAACQ,QAAQ,CAAC;IACpC,CAAC;IAAA,KAEDC,YAAY,GAAG,YAAY;MACvB,IAAI;QAAEf,OAAO;QAAEC;MAAS,CAAC,GAAG,IAAI,CAACC,KAAK;MACtC,IAAI,CAACC,QAAQ,CAAC;QAAEC,OAAO,EAAE;MAAK,CAAC,CAAC;MAChC,IAAIC,IAAI,GAAI,gDAA+CL,OAAQ,aAAYC,QAAS,iDAAgD,IAAI,CAACK,KAAK,CAACC,IAAI,GAAG,CAAE,EAAC;MAC7J,IAAIC,IAAI,GAAG,MAAMC,KAAK,CAACJ,IAAI,CAAC;MAC5B,IAAIK,UAAU,GAAG,MAAMF,IAAI,CAACG,IAAI,CAAC,CAAC;MAClC,IAAI,CAACR,QAAQ,CAAC;QACVK,IAAI,EAAEE,UAAU;QAChBH,IAAI,EAAE,IAAI,CAACD,KAAK,CAACC,IAAI,GAAG,CAAC;QACzBH,OAAO,EAAE;MACb,CAAC,CAAC;IACN,CAAC;IAAA,KAEDY,SAAS,GAAG,YAAY;MACpB,IAAI;QAAEhB,OAAO;QAAEC;MAAS,CAAC,GAAG,IAAI,CAACC,KAAK;MACtC,IAAI,CAACC,QAAQ,CAAC;QAAEC,OAAO,EAAE;MAAK,CAAC,CAAC;MAChC,IAAIC,IAAI,GAAI,gDAA+CL,OAAQ,aAAYC,QAAS,iDAAgD,IAAI,CAACK,KAAK,CAACC,IAAI,GAAG,CAAE,EAAC;MAC7J,IAAIC,IAAI,GAAG,MAAMC,KAAK,CAACJ,IAAI,CAAC;MAC5B,IAAIK,UAAU,GAAG,MAAMF,IAAI,CAACG,IAAI,CAAC,CAAC;MAClCD,UAAU,CAACO,QAAQ,GAAGP,UAAU,CAACQ,QAAQ,CAACC,MAAM,CAAC,IAAI,CAACb,KAAK,CAACE,IAAI,CAACU,QAAQ,CAAC;MAC1E,IAAI,CAACf,QAAQ,CAAC;QACVK,IAAI,EAAEE,UAAU;QAChBH,IAAI,EAAE,IAAI,CAACD,KAAK,CAACC,IAAI,GAAG,CAAC;QACzBH,OAAO,EAAE;MACb,CAAC,CAAC;IACN,CAAC;IA7EG,IAAI,CAACE,KAAK,GAAG;MACTE,IAAI,EAAE;QACFU,QAAQ,EAAE;MACd,CAAC;MACDd,OAAO,EAAE,IAAI;MACbG,IAAI,EAAE,CAAC;MACPO,QAAQ,EAAE;IACd,CAAC,EAAqC;IACtC;IACA;IACA;IACA;EACJ;;EAEA,MAAMM,iBAAiBA,CAAA,EAAG;IACtB,IAAI;MAAEpB,OAAO;MAAEC;IAAS,CAAC,GAAG,IAAI,CAACC,KAAK;IACtC,IAAIG,IAAI,GAAI,gDAA+CL,OAAQ,aAAYC,QAAS,0CAAyC;IACjI,IAAIO,IAAI,GAAG,MAAMC,KAAK,CAACJ,IAAI,CAAC;IAC5B,IAAIK,UAAU,GAAG,MAAMF,IAAI,CAACG,IAAI,CAAC,CAAC;IAClCC,OAAO,CAACC,GAAG,CAACH,UAAU,CAAC;IACvB,IAAIW,CAAC,GAAGC,IAAI,CAACC,KAAK,CAACb,UAAU,CAACc,YAAY,GAAG,EAAE,CAAC;IAChD,IAAId,UAAU,CAACc,YAAY,GAAG,EAAE,KAAK,CAAC,EAAE;MACpC,IAAI,CAACrB,QAAQ,CAAC;QACVK,IAAI,EAAEE,UAAU;QAChBN,OAAO,EAAE,KAAK;QACdU,QAAQ,EAAEO;MACd,CAAC,CAAC;IACN,CAAC,MACI;MACD,IAAI,CAAClB,QAAQ,CAAC;QACVK,IAAI,EAAEE,UAAU;QAChBN,OAAO,EAAE,KAAK;QACdU,QAAQ,EAAEO,CAAC,GAAG;MAClB,CAAC,CAAC;IACN;EAEJ;EA2CAI,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEC;IAAM,CAAC,GAAG,IAAI,CAACxB,KAAK;IAC1B;MAAA;MACI;MACAR,OAAA,CAAAE,SAAA;QAAA+B,QAAA,EAsBS,IAAI,CAACrB,KAAK,CAACF,OAAO,gBAAGV,OAAA,CAACH,OAAO;UAAAqC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAC,CAAC,gBAChCrC,OAAA;UAAAiC,QAAA,gBACIjC,OAAA;YAAAiC,QAAA,EAAI;UAA0B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACnCrC,OAAA;YAAKsC,SAAS,EAAC,MAAM;YAAAL,QAAA,EAEb,IAAI,CAACrB,KAAK,CAACE,IAAI,CAACU,QAAQ,CAACe,GAAG,CAAEC,QAAQ,IAAK;cACvC,oBAAOxC,OAAA;gBAAAiC,QAAA,eACHjC,OAAA,CAACJ,QAAQ;kBAAC6C,MAAM,EAAED,QAAQ,CAACC,MAAM,CAACC,IAAI,KAAK,IAAI,GAAG,EAAE,GAAGF,QAAQ,CAACC,MAAM,CAACC,IAAK;kBAACC,MAAM,EAAEH,QAAQ,CAACG,MAAM,KAAK,IAAI,GAAG,SAAS,GAAGH,QAAQ,CAACG,MAAO;kBAACC,WAAW,EAAEJ,QAAQ,CAACI,WAAY;kBAACC,QAAQ,EAAEL,QAAQ,CAACM,UAAU,KAAK,IAAI,GAAG,2HAA2H,GAAGN,QAAQ,CAACM,UAAW;kBAACC,KAAK,EAAEP,QAAQ,CAACO,KAAK,CAACC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,KAAM;kBAACC,OAAO,EAAET,QAAQ,CAACS,OAAO,KAAK,IAAI,IAAIT,QAAQ,CAACS,OAAO,KAAK,EAAE,GAAGT,QAAQ,CAACU,WAAW,GAAGV,QAAQ,CAACS,OAAQ;kBAACE,OAAO,EAAEX,QAAQ,CAACY,GAAI;kBAACpB,KAAK,EAAEA;gBAAM;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC,GAD/hBG,QAAQ,CAACY,GAAG;gBAAAlB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAExB,CAAC;YACV,CAAC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAEL,CAAC,eACNrC,OAAA;YAAKsC,SAAS,EAAC,WAAW;YAAAL,QAAA,gBACtBjC,OAAA;cAAQqD,IAAI,EAAC,QAAQ;cAACC,QAAQ,EAAE,IAAI,CAAC1C,KAAK,CAACC,IAAI,KAAK,CAAE;cAACyB,SAAS,EAAC,iBAAiB;cAACiB,OAAO,EAAE,IAAI,CAAClC,YAAa;cAAAY,QAAA,EAAC;YAAQ;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAChIrC,OAAA;cAAQqD,IAAI,EAAC,QAAQ;cAACC,QAAQ,EAAE,IAAI,CAAC1C,KAAK,CAACC,IAAI,KAAK,IAAI,CAACD,KAAK,CAACQ,QAAS;cAACkB,SAAS,EAAC,iBAAiB;cAACiB,OAAO,EAAE,IAAI,CAAClD,QAAS;cAAA4B,QAAA,EAAC;YAAkB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvJ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEL;MAAC,gBAGZ;IAAC;EAEX;AACJ;AA7IqBlC,IAAI,CACdqD,YAAY,GAAG;EAClBlD,OAAO,EAAE,IAAI;EACbC,QAAQ,EAAE;AACd,CAAC;AAJgBJ,IAAI,CAMdsD,SAAS,GAAG;EACfnD,OAAO,EAAER,SAAS,CAAC4D,MAAM;EACzBnD,QAAQ,EAAET,SAAS,CAAC4D;AACxB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}